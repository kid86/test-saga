{"ast":null,"code":"import _regeneratorRuntime from \"/home/kid86/Desktop/reactjs/data-load-test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/kid86/Desktop/reactjs/data-load-test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/kid86/Desktop/reactjs/data-load-test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/kid86/Desktop/reactjs/data-load-test-app/src/hooks/UsersWithHooks.js\";\nimport React, { useState, useEffect } from 'react';\nimport Api from \"../api\";\n\nfunction UsersWithHooks() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  useEffect(function () {\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response, json;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return Api.getUsers();\n\n              case 3:\n                response = _context.sent;\n                _context.next = 6;\n                return response.json();\n\n              case 6:\n                json = _context.sent;\n                setData(json);\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](0);\n                setError(_context.t0.message || 'Unexpected error');\n\n              case 13:\n                setLoading(false);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 10]]);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n  }, []);\n\n  if (loading) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, \"Loading\");\n  }\n\n  if (error) {\n    return React.createElement(\"div\", {\n      style: {\n        color: 'red'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, \"ERROR: \", error);\n  }\n\n  return React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"First Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Last Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Active?\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Posts\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Messages\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, data.map(function (u) {\n    return React.createElement(\"tr\", {\n      key: u.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, u.firstName), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, u.lastName), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, u.active ? 'Yes' : 'No'), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, u.posts), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, u.messages));\n  })));\n}\n\nexport default UsersWithHooks;","map":{"version":3,"sources":["/home/kid86/Desktop/reactjs/data-load-test-app/src/hooks/UsersWithHooks.js"],"names":["React","useState","useEffect","Api","UsersWithHooks","data","setData","loading","setLoading","error","setError","fetchData","getUsers","response","json","message","color","map","u","id","firstName","lastName","active","posts","messages"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,GAAP,MAAgB,QAAhB;;AAEA,SAASC,cAAT,GAA0B;AAAA,kBACEH,QAAQ,CAAC,EAAD,CADV;AAAA;AAAA,MACfI,IADe;AAAA,MACTC,OADS;;AAAA,mBAEQL,QAAQ,CAAC,IAAD,CAFhB;AAAA;AAAA,MAEfM,OAFe;AAAA,MAENC,UAFM;;AAAA,mBAGIP,QAAQ,CAAC,EAAD,CAHZ;AAAA;AAAA,MAGfQ,KAHe;AAAA,MAGRC,QAHQ;;AAKtBR,EAAAA,SAAS,CAAC,YAAM;AAAA,aACGS,SADH;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,+BACZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAE+BR,GAAG,CAACS,QAAJ,EAF/B;;AAAA;AAEcC,gBAAAA,QAFd;AAAA;AAAA,uBAG2BA,QAAQ,CAACC,IAAT,EAH3B;;AAAA;AAGcA,gBAAAA,IAHd;AAKQR,gBAAAA,OAAO,CAACQ,IAAD,CAAP;AALR;AAAA;;AAAA;AAAA;AAAA;AAOQJ,gBAAAA,QAAQ,CAAC,YAAEK,OAAF,IAAa,kBAAd,CAAR;;AAPR;AAUIP,gBAAAA,UAAU,CAAC,KAAD,CAAV;;AAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADY;AAAA;AAAA;;AAcZG,IAAAA,SAAS;AACZ,GAfQ,EAeN,EAfM,CAAT;;AAiBA,MAAIJ,OAAJ,EAAa;AACT,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAP;AACH;;AAED,MAAIE,KAAJ,EAAW;AACP,WAAO;AAAK,MAAA,KAAK,EAAE;AAACO,QAAAA,KAAK,EAAE;AAAR,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAoCP,KAApC,CAAP;AACH;;AAED,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,CADA,CADJ,EAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACCJ,IAAI,CAACY,GAAL,CAAS,UAAAC,CAAC;AAAA,WACP;AAAI,MAAA,GAAG,EAAEA,CAAC,CAACC,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,CAAC,CAACE,SAAP,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKF,CAAC,CAACG,QAAP,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKH,CAAC,CAACI,MAAF,GAAW,KAAX,GAAmB,IAAxB,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKJ,CAAC,CAACK,KAAP,CAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKL,CAAC,CAACM,QAAP,CALJ,CADO;AAAA,GAAV,CADD,CAVJ,CADJ;AAwBH;;AAED,eAAepB,cAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Api from \"../api\";\n\nfunction UsersWithHooks() {\n    const [data, setData] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n\n    useEffect(() => {\n        async function fetchData() {\n            try {\n                const response = await Api.getUsers();\n                const json = await response.json();\n\n                setData(json);\n            } catch (e) {\n                setError(e.message || 'Unexpected error');\n            }\n\n            setLoading(false);\n        }\n\n        fetchData();\n    }, []);\n\n    if (loading) {\n        return <div>Loading</div>\n    }\n\n    if (error) {\n        return <div style={{color: 'red'}}>ERROR: {error}</div>\n    }\n\n    return (\n        <table>\n            <thead>\n            <tr>\n                <th>First Name</th>\n                <th>Last Name</th>\n                <th>Active?</th>\n                <th>Posts</th>\n                <th>Messages</th>\n            </tr>\n            </thead>\n            <tbody>\n            {data.map(u =>\n                <tr key={u.id}>\n                    <td>{u.firstName}</td>\n                    <td>{u.lastName}</td>\n                    <td>{u.active ? 'Yes' : 'No'}</td>\n                    <td>{u.posts}</td>\n                    <td>{u.messages}</td>\n                </tr>\n            )}\n            </tbody>\n        </table>\n    );\n}\n\nexport default UsersWithHooks;\n"]},"metadata":{},"sourceType":"module"}